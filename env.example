# Environment Configuration for E-commerce API

# ===================
# REQUIRED VARIABLES
# ===================

# JWT Secret Key (REQUIRED)
# Generate a strong secret key for JWT token signing
# Example: openssl rand -base64 32
# This is used for authentication tokens and WebSocket authentication
JWT_SECRET=your-super-secret-jwt-key-here-change-this-in-production

# JWT Token Expiration
# How long JWT tokens remain valid
JWT_EXPIRES_IN=24h

# Password Hashing Configuration
# Number of salt rounds for bcrypt (higher = more secure but slower)
BCRYPT_SALT_ROUNDS=12

# Node Environment (REQUIRED)
# Controls CORS settings, error handling, and WebSocket origins
# Values: development | production | test
NODE_ENV=development

# Server Port (REQUIRED)
# Port on which the Express server will run
PORT=3002

# ===================
# CORS & SECURITY
# ===================

# Production CORS Origins (Used when NODE_ENV=production)
# Comma-separated list of allowed origins for production
PRODUCTION_ORIGINS=https://yourdomain.com,https://www.yourdomain.com,https://admin.yourdomain.com

# Development CORS Origins (Used when NODE_ENV=development)
# Comma-separated list of allowed origins for development
DEV_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:8080,http://127.0.0.1:3000,http://localhost:8888

# ===================
# DATABASE
# ===================

# SQLite Database Path (Optional)
# Path to SQLite database file
DB_PATH=./database/ecommerce.db

# Database Connection Pool Settings (For future external DB support)
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=ecommerce
# DB_USER=your-db-user
# DB_PASSWORD=your-db-password
# DB_SSL=false
# DB_MAX_CONNECTIONS=10

# ===================
# RATE LIMITING
# ===================

# Rate Limiting Configuration
# General API rate limiting (15 minutes window)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_ERROR_MESSAGE=Too many requests from this IP
RATE_LIMIT_MESSAGE=Please try again later
RATE_LIMIT_RETRY_AFTER=15 minutes

# Authentication rate limiting (15 minutes window)
AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX_REQUESTS=10
AUTH_RATE_LIMIT_ERROR_MESSAGE=Too many authentication attempts
AUTH_RATE_LIMIT_MESSAGE=Please try again later
AUTH_RATE_LIMIT_RETRY_AFTER=15 minutes

# Admin operations rate limiting (5 minutes window)
ADMIN_RATE_LIMIT_WINDOW_MS=300000
ADMIN_RATE_LIMIT_MAX_REQUESTS=20
ADMIN_RATE_LIMIT_ERROR_MESSAGE=Too many admin operations
ADMIN_RATE_LIMIT_MESSAGE=Please slow down your requests
ADMIN_RATE_LIMIT_RETRY_AFTER=5 minutes

# ===================
# WEBSOCKET SETTINGS
# ===================

# WebSocket CORS Origins (can override HTTP CORS settings)
# If not set, will use PRODUCTION_ORIGINS/DEV_ORIGINS based on NODE_ENV
WS_PRODUCTION_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
WS_DEV_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:8080,http://localhost:8888

# WebSocket allowed methods
WS_ALLOWED_METHODS=GET,POST

# ===================
# LOGGING & MONITORING
# ===================

# Debug Mode
# Set to enable debug logging for various components
# DEBUG=socket.io:*,express:*

# Log Level
# LOG_LEVEL=info
# LOG_FILE=logs/app.log

# Performance Metrics
# METRICS_ENABLED=true
# METRICS_ENDPOINT_ENABLED=true

# ===================
# SECURITY HEADERS
# ===================

# Security Middleware (Future implementation)
# ENABLE_HELMET=true
# ENABLE_COMPRESSION=true
# ENABLE_HTTPS_REDIRECT=false

# ===================
# EXTERNAL INTEGRATIONS
# ===================

# API Keys for external services (Future implementation)
# EXTERNAL_API_KEY=your-external-api-key
# PAYMENT_GATEWAY_KEY=your-payment-gateway-key
# STRIPE_SECRET_KEY=sk_test_...
# PAYPAL_CLIENT_ID=your-paypal-client-id

# Email Service (Future implementation)
# EMAIL_SERVICE=gmail
# EMAIL_USER=your-email@gmail.com
# EMAIL_PASSWORD=your-app-password

# ===================
# TESTING
# ===================

# Test Database (For running tests)
# TEST_DB_PATH=./database/test.db
# TEST_JWT_SECRET=test-secret-key

# ===================
# APPLICATION SETTINGS
# ===================

# Sample data generation
SAMPLE_PRODUCTS_COUNT=1000

# Product caching (in milliseconds)
PRODUCTS_CACHE_TTL_MS=300000

# ===================
# DEPLOYMENT
# ===================

# SSL/TLS Configuration (For production)
# SSL_KEY_PATH=/path/to/private-key.pem
# SSL_CERT_PATH=/path/to/certificate.pem

# Process Management (For PM2 or similar)
# MAX_MEMORY_RESTART=300M
# INSTANCES=max
